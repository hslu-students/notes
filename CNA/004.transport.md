## Transpot Layer

Die Transportschicht hilft IP Pakete sicher und zuverlaessig
ueber das Netzwerk zu bringen. IP bietet nur einen unzuverlaessigen Datagrammdienst.
Die Transpotschicht erkennt verlorene/gestoerte Pakete und Wiederholt die Uebertragung.
Sie verbirgt die Fehler der unterliegenden Schichten.

TCP dient als End-zu-End schicht, die Applikationen sehen nur die TCP schicht
und nicht die darunterliegende schicht, welche durch TCP abstrahiert wurde.

Der Transport Layer muss verschiedene Probleme loesen:

 - Verlorene/Gestoerte Pakete
 - Verspaetete Pakete
 - Verzoegerungszeiten sind Variabel (pakete ueberholen einander)
 - Pakete koennen doppelt ankommen
 - Datenstau, Anhaufung von empfangenen Paketen
 - Neubooten von Rechnern auf Wiederaufnahme einer laufenden Uebertragung

Dies wird beispielsweise ueber durchnummerierung von Paketen, Anforderungen
von Bestaetigungen, Beschraenken der Lebensauer von Paketen und
Verbindungsaufbau mit dem 3-Way-Handshake geloest.

Da mit dem 3-way-handshke von TCP relativ viel overhead erzeugt wird,
wurde UDP (User Datagram Protcol) erstellt.
UDP ist simpler und verbindungslos, jedoch unzuverlaessiger.

---

**Was ist die Aufgabe der Transportschicht?**

Mit IP werden die pakete zwar uebermittelt, wir haben jedoch keine
kontrolle ob das Paket wirklich ankam. Ich korrigiere die Fehler
der Netzwerk schicht.

**Nennen Sie einige typische Dienstprimitive der Transportschicht**

Als erstes werde ich nur zuhoeren, LISTEN. CONNET, SEND, RECEIVE, DISCONNECT.

**Muss sich ein End-zu-End Protokoll umd das Routing duch das Internet kuemmern?**

Nein

**Welche Probleme werden in der Transportschicht geloest?**

Paketverlust/beschaedigung, Zu schnelle Pakete, ...

**Welche At Handshake wird dabei benutzt?**

Der 3-way-handshake.

**Nennen Sie einige unterschiede zwischen UDP und TCP**

UDP ist verbindungslos, TCP baut eine verbindung auf.

---

## UDP -  User Datagram Protocol

Pakete werden nach best effort zugestellt, Fehler koennen passieren, ist dem
Protokoll egal. Pruefsumme kann, muss aber nicht, mitgegeben werden.
Die end zu end Punkte werden **Port** genannt. Mein absendeport
kann ich selbst bestimmen.

Ist sehr einfach aufgebaut besteht aus source port, dest port, msg length, checksum
und data.

DNS requests werden haufig ueber UDP gemacht, sowie RPC und RTP (Real time transport Protocol)
Brodacast sind immer UDP.

## TCP - Transmission Control Protocol

Gewaehrleistet eine zuverlaessige Datenuebertragung endpunkte sind **Sockets** welche auch
einen 16 bit port besitzen. Die verbindungen sind immer Endpunkt zu Endpunkt verbindungen.
Datenuebertragung in beide Richtungen sind moeglich.
Das Acknowledgement kann ueberlaufen, das ist kein problem da
die nummer danach wieder bestaetigt wird.

---

**Aus welchen Feldern besteht der UDP Header?**

Src port, Dst Port, Msg length & Checksum

**Wie heisst einer der UNIX Prozesse der TCP Verbindungen behandelt?**

inetd, sysd, ...

**Unterstuetzt TCP Broadcast?**

Nein

**Unterstuetzt TCP die Uebertragung von sporadischen Signalen, Steuerkommandos?**

TCP und UDP ist es egal was uebertragen wird.

**Mit wie vielen Bits ist bei TCP der Port des Senders angegeben?**

16 Bit

**Warum wird fuer RTP Multimedastreams UDP benutzt und nicht TCP?**

Der Overhead waehre zu gross. Zudem ist es meist Multicast, Broadcast.
Enormer rueckversand von den Clients, der Server waehre ueberlastet.

**Wie bauen die einzelnen Router im Netzwerk eine TCP Verbindung auf?**

Gar nicht.

---

---

**Nennen Sie einige Anwendungen von UDP**

Streaming ...

**Unterschied lokaler Prozessaufruf vs RPC**

Ziehmlich klein nur dass der aufruf ueber das Netzwerk geht.

**Wozu braucht man das RTP (Real Time Transport Protocoll)**

Zur uebertragung von Echtzeitdaten (Multimedia streaming ...)

**Warum unterstuetzt der TCP kein Broad- /Multicast?**

Handshake ist erforderlich, der Host kann nicht Handshakes mit mehreren
teilnehmern machen.

**Warum braucht man UDP? Reicht es nicht direkt IP Pakete zu senden?**

 - Bietet eine einheitliche Schnittstelle fuer die uebergeordnete schicht
 - UDP ist schneller als TCP
 - Bietet zugriff auf Prozesse durch Portnummern
 - Kann eine checksumme enthalten

**UDP und TCP benutzen portnummern um einen Prozess zu addressieren.
Geben Sie zwei Gruende an warum nicht zur Vereinfachung die bereits vorhandenen Prozesskennungen
PID benutzt werden?**

Die PIDs sind von prozess zu prozess verschieden und auch auf unterschiedlichen hosts
verschieden.

**Ein Rechner sendet TCP Frames mit 35535 Bytes ueber eine 1 Gbit/s.**

10ms fuer Laufzeit des Paketse + 10ms fuer bestaetigung = 20ms

65535 Bytes/s / 20ms =  26.214 MBit/s

---
